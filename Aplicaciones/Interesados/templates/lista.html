{% extends 'plantilla.html' %}
{% load static %}

{% block body %}
<main><br>
    <h2><b>Usuarios interesados en mis publicaciones</b></h2><br>
    <table class="table table-bordered table-striped table-hover" id="interesados">
        <thead>
            <tr>
                <th>Usuario interesado</th>
                <th>Publicación</th>
                <th>Fecha interés</th>
            </tr>
        </thead>
        <tbody>
            {% for interes in intereses %}
                <tr>
                    <td>{{ interes.usuario.usuario }}</td>
                    <td>{{ interes.propiedad.titulo }}</td>
                    <td>{{ interes.fecha_interes }}</td>
                </tr>
            {% empty %}
                <tr><td colspan="3">No hay usuarios interesados en tus publicaciones aún.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</main>

<script>
$(document).ready(function() {
    let table = new DataTable('#interesados', {
        language: {
            url: 'https://cdn.datatables.net/plug-ins/2.3.1/i18n/es-ES.json'
        },
        dom: 'Bfrtip',
        buttons: [
            'copy',
            'csv',
            'excel',
            'pdf',
            'print'
        ]
    });
});
</script>
{% endblock %}
